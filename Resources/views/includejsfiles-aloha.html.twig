{# include "SymfonyCmfCreateBundle::includejsfiles-create.html.twig" #}

{% javascripts output="js/jquery.js"
    '@SymfonyCmfCreateBundle/Resources/public/vendor/create/deps/jquery-1.7.1.min.js'
    '@SymfonyCmfCreateBundle/Resources/public/vendor/create/deps/jquery-ui-1.8.18.custom.min.js'
    '@SymfonyCmfCreateBundle/Resources/public/vendor/create/deps/jquery.rdfquery.min.js'
    '@SymfonyCmfCreateBundle/Resources/public/vendor/create/deps/jquery.tagsinput.min.js'    
%}

<script src="{{ asset_url }}"></script>
{% endjavascripts %}

<script type="text/javascript">
    var cmfCreatePutDocument = '{{ path('symfony_cmf_create_put_document_base') }}';
    var cmfCreateStanbolUrl = '{{ cmfCreateStanbolUrl }}';

    var Aloha = window.Aloha || ( window.Aloha = {} );

    Aloha.settings =
    {
        baseUrl: '/bundles/symfonycmfcreate/vendor/create/deps/aloha/src/lib/',
        locale: 'en',
        sidebar: { disabled: true },

        plugins:
        {
            format: ['b', 'i', 'p', 'sub', 'sup', 'del', 'title', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'pre', 'removeFormat' ],
            draganddropfiles:
            {
                max_file_size: '200000',
                upload:
                {
                    url               : '/upload.php',
                    extra_headers     : { Accept : 'application/json' },
                    additional_params : { location : "" },
                    www_encoded       : false
                }
            }
        }
    }
</script>
{% javascripts output="/js/create.js"
                '@SymfonyCmfCreateBundle/Resources/public/vendor/create/deps/underscore-min.js'
                '@SymfonyCmfCreateBundle/Resources/public/vendor/create/deps/backbone-min.js'
                '@SymfonyCmfCreateBundle/Resources/public/vendor/create/deps/rangy-core-1.2.3.js'
                '@SymfonyCmfCreateBundle/Resources/public/vendor/create/deps/vie-min.js'
                '@SymfonyCmfCreateBundle/Resources/public/vendor/create/deps/annotate-min.js'
                '@SymfonyCmfCreateBundle/Resources/public/vendor/create/deps/aloha/src/lib/require.js'
                '@SymfonyCmfCreateBundle/Resources/public/vendor/create/deps/aloha/src/lib/aloha.js'
                '@SymfonyCmfCreateBundle/Resources/public/js/init-create-aloha.js'
                '@SymfonyCmfCreateBundle/Resources/public/vendor/create/examples/create.js'              
%}
    <script>console.log("?", Aloha.jQuery);</script>
    <script src="{{ asset_url }}"
        data-aloha-plugins="common/ui,
                            common/format,
                            common/list,
                            common/link,
                            common/highlighteditables,
                            common/image,
                            extra/imagebrowser,
                            extra/draganddropfiles"
    >
    </script>
{% endjavascripts %}

{% include "SymfonyCmfCreateBundle::includejsfiles-create.html.twig" %}

<script type="text/javascript">
    var cmfCreatePutDocument = '{{ path('symfony_cmf_create_put_document_base') }}';
    var cmfCreateStanbolUrl = '{{ cmfCreateStanbolUrl }}';

    var Aloha = window.Aloha || ( window.Aloha = {} );

    Aloha.settings =
    {
        baseUrl: '/bundles/symfonycmfcreate/vendor/create/deps/aloha/src/lib/',
        locale: 'en',
        sidebar: { disabled: true },

        plugins:
        {
            format: ['b', 'i', 'p', 'sub', 'sup', 'del', 'title', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'pre', 'removeFormat' ],
            draganddropfiles:
            {
                max_file_size: '200000',
                upload:
                {
                    url               : '/upload.php',
                    extra_headers     : { Accept : 'application/json' },
                    additional_params : { location : "" },
                    www_encoded       : false
                }
            }
        }
    }
</script>
{% javascripts output="/js/create.js"
                '@SymfonyCmfCreateBundle/Resources/public/vendor/create/deps/aloha/src/lib/require.js'
                '@SymfonyCmfCreateBundle/Resources/public/vendor/create/deps/aloha/src/lib/aloha.js'
                '@SymfonyCmfCreateBundle/Resources/public/js/init-create-aloha.js'          
%}
    <script src="{{ asset_url }}"
        data-aloha-plugins="common/ui,
                            common/format,
                            common/list,
                            common/link,
                            common/highlighteditables,
                            common/image,
                            extra/imagebrowser,
                            extra/draganddropfiles"
    >
    </script>
{% endjavascripts %}
